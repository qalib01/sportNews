if("/login"===window.location.pathname){let e=document.querySelector("#form");e.addEventListener("submit",async t=>{t.preventDefault(),t.submitter.setAttribute("disabled",!0);let a=e.email.value.trim().toLowerCase(),l=e.password.value;try{res=await fetch(e.action,{method:"POST",body:JSON.stringify({email:a,password:l}),headers:{"Content-type":"application/json"}});let s=await res.json();200===s.status?location.pathname="/admin/":console.log("Error",s)}catch(n){return n}})}if("/news"===window.location.pathname){let t=document.querySelector("#news-items"),a=document.location.search.replace("?","&");document.addEventListener("DOMContentLoaded",function(){let e=0;function l(){fetch(`news/load-more?startIndex=${e}${a}&limit=10`).then(e=>e.json()).then(a=>{if(a.length>0)a.forEach(e=>{let a=`<div class="flex-wr-sb-s p-t-40 p-b-15 how-bor2"><a href="/news/news-detail?key=${e.key}" class="size-w-8 wrap-pic-w hov1 trans-03 w-full-sr575 m-b-25 text-decoration-none" style="aspect-ratio: 4/3;" aria-label="${e.title.replaceAll('"',"")}"><img src="/images/news/${e.img}" alt="${e.title.replaceAll('"',"")}" class="object-fit-cover h-100"></a><div class="size-w-9 w-full-sr575 m-b-25"><a href="/news/news-detail?key=${e.key}" class="f1-l-1 cl2 hov-cl10 trans-03 respon2 fw-bold text-decoration-none p-b-12">${e.title}</a><div class="cl19 p-b-18"><span class="f1-s-3">${e.createdAt}</span></div><p class="cl19">${e.content.replace(/<[^>]*>/g,"").slice(0,150)+"..."}</p><a href="/news/news-detail?key=${e.key}" class="f1-s-1 cl19 hov-cl10 trans-03 text-decoration-none p-t-10 d-block"">Ətraflı bax<i class="fa fa-long-arrow-alt-right m-l-2"></i></a></div></div>`;t.innerHTML+=a}),e+=10,a.length<10&&(document.querySelector("#load-more").style.display="none");else{let l=`<div class="flex-wr-sb-s p-t-40 p-b-15 how-bor2"> Hal-hazırda he\xe7 bir xəbər materialı əldə olunmadı. </div>`;t.innerHTML+=l,document.getElementById("load-more")&&(document.querySelector("#load-more").style.display="none")}}).catch(e=>console.error("Error fetching items:",e))}l(),document.getElementById("load-more")&&document.getElementById("load-more").addEventListener("click",l)})}